'use strict';const a5_0x88df5e=a5_0x58f3;function a5_0x58f3(_0x541650,_0x272585){const _0x150b5a=a5_0x150b();return a5_0x58f3=function(_0x58f382,_0x4e7984){_0x58f382=_0x58f382-0xc5;let _0x491567=_0x150b5a[_0x58f382];return _0x491567;},a5_0x58f3(_0x541650,_0x272585);}(function(_0x5847e1,_0x3d4e4a){const _0x4bba5b=a5_0x58f3,_0xf16821=_0x5847e1();while(!![]){try{const _0x3af60e=parseInt(_0x4bba5b(0xda))/0x1+parseInt(_0x4bba5b(0xc6))/0x2+parseInt(_0x4bba5b(0xcc))/0x3+parseInt(_0x4bba5b(0xd3))/0x4*(parseInt(_0x4bba5b(0xce))/0x5)+-parseInt(_0x4bba5b(0xc9))/0x6*(parseInt(_0x4bba5b(0xde))/0x7)+-parseInt(_0x4bba5b(0xd7))/0x8+-parseInt(_0x4bba5b(0xcd))/0x9*(parseInt(_0x4bba5b(0xdd))/0xa);if(_0x3af60e===_0x3d4e4a)break;else _0xf16821['push'](_0xf16821['shift']());}catch(_0x17b7e6){_0xf16821['push'](_0xf16821['shift']());}}}(a5_0x150b,0xc0daa));var __importDefault=this&&this[a5_0x88df5e(0xc7)]||function(_0x33ba1a){const _0x5a920d=a5_0x88df5e;return _0x33ba1a&&_0x33ba1a[_0x5a920d(0xd9)]?_0x33ba1a:{'default':_0x33ba1a};};Object[a5_0x88df5e(0xcb)](exports,a5_0x88df5e(0xd9),{'value':!![]});const AesHelper_1=__importDefault(require('./AesHelper')),HmacHelper_1=__importDefault(require(a5_0x88df5e(0xd4))),InvalidTokenSignatureError_1=__importDefault(require('../error/InvalidTokenSignatureError'));class Wrapper{static[a5_0x88df5e(0xd2)](_0x3a19ef){const _0x2fa228=a5_0x88df5e,_0x22c246=AesHelper_1[_0x2fa228(0xd8)]['encrypt'](Buffer['from'](JSON[_0x2fa228(0xd1)](_0x3a19ef)))['toString'](_0x2fa228(0xcf)),_0xd4161e=HmacHelper_1[_0x2fa228(0xd8)]['caculateHmacSignature'](Buffer[_0x2fa228(0xd6)](String(process[_0x2fa228(0xc8)][_0x2fa228(0xd5)])+'.'+_0x22c246))[_0x2fa228(0xca)](_0x2fa228(0xcf));return{'clientId':String(process['env'][_0x2fa228(0xd5)]),'params':_0x22c246,'signature':_0xd4161e};}static[a5_0x88df5e(0xd0)](_0x381d0c){const _0x26e29d=a5_0x88df5e,_0x3cb551=Buffer['from'](_0x381d0c[_0x26e29d(0xdb)],_0x26e29d(0xcf)),_0x33068e=Buffer[_0x26e29d(0xd6)](_0x381d0c['signature'],_0x26e29d(0xcf)),_0x1437b0=HmacHelper_1[_0x26e29d(0xd8)]['caculateHmacSignature'](_0x3cb551);if(_0x33068e['equals'](_0x1437b0)){const _0x1bec1d=JSON[_0x26e29d(0xdf)](AesHelper_1[_0x26e29d(0xd8)][_0x26e29d(0xc5)](_0x3cb551)[_0x26e29d(0xca)]());return _0x1bec1d;}throw new InvalidTokenSignatureError_1['default'](_0x26e29d(0xdc));}}function a5_0x150b(){const _0x38697=['wrapRequest','3133892GmXLpS','./HmacHelper','CAMDIGIKEY_CLIENT_ID','from','8765496hsRzJA','default','__esModule','889579oVPsDt','data','Signatures\x20not\x20match','1010yIDBhc','14UHVQFd','parse','decrypt','108084PHpxYU','__importDefault','env','2087502yJamZW','toString','defineProperty','4471668DGufRr','56691GOBjUM','5AQVYvJ','base64','unwrapResponse','stringify'];a5_0x150b=function(){return _0x38697;};return a5_0x150b();}exports['default']=Wrapper;